{"version":3,"sources":["components/Footer.js","images/logo.svg","components/Header.js","components/ImagePopup.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","utils/Api.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/DeletePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Header","src","logo","alt","ImagePopup","props","card","link","onClick","onClose","type","name","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","onCardClick","onHandleDeleteClick","onLike","length","Main","onEditAvatar","avatar","title","onEditProfile","about","onAddPlace","cards","map","api","url","headers","this","_url","_headers","fetch","then","_checkAnswer","console","log","method","body","JSON","stringify","cardId","res","ok","json","Promise","reject","status","authorization","PopupWithForm","isOpen","onSubmit","children","buttonText","AddPlacePopup","useState","setName","setLink","useEffect","event","preventDefault","value","onChange","target","placeholder","required","minLength","maxLength","EditProfilePopup","setChangeName","description","setChangeDescription","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","avatarLink","current","ref","DeletePopup","App","setcurrentUser","setCards","all","getPersonalInfo","getCard","user","data","catch","err","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","cardForDelete","setCardForDelete","isDeletePopupOpen","setIsDeletePopupOpen","closeAllPopups","Provider","i","changeLikeCardStatus","newCard","state","c","changeUserInfo","error","editAvatarUser","addNewCard","element","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4LAQeA,MARf,WACI,OACI,wBAAQC,UAAU,SAAlB,SACI,mBAAGA,UAAU,qBAAb,uCCHG,MAA0B,iCCY1BC,MAVf,WACI,OACI,mCACI,wBAAQD,UAAU,SAAlB,SACI,qBAAKE,IAAKC,EAAMH,UAAU,eAAeI,IAAI,wHCS9CC,MAbf,SAAoBC,GAClB,OACE,qBAAKN,UAAS,4BAAuBM,EAAMC,KAAKC,MAAQ,iBAAxD,SACE,sBAAKR,UAAU,yBAAf,UACE,wBAAQS,QAASH,EAAMI,QAASC,KAAK,SAASX,UAAU,oCACxD,qBAAKA,UAAU,mBAAmBE,IAAKI,EAAMC,KAAKC,KAAMJ,IAAKE,EAAMC,KAAKK,OACxE,oBAAIZ,UAAU,qBAAd,SAAoCM,EAAMC,KAAKK,aCN1CC,EAAqBC,IAAMC,gBC4CzBC,MA3Cf,SAAcV,GAEZ,IAAMW,EAAcH,IAAMI,WAAWL,GAE/BM,EAAQb,EAAMC,KAAKa,MAAMC,MAAQJ,EAAYI,IAE7CC,EAAyB,8BAA0BH,EAAQ,8BAAgC,8BAG3FI,EAAUjB,EAAMC,KAAKiB,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKL,MAAQJ,EAAYI,OAEjEM,EAAuB,qBAAiBJ,EAAU,oBAAsB,IAiB9E,OACE,0BAASvB,UAAU,OAAnB,UACE,qBAAKA,UAAU,YAAYS,QAP/B,WACEH,EAAMsB,YAAYtB,EAAMC,OAM2BL,IAAKI,EAAMC,KAAKC,KAAMJ,IAAKE,EAAMC,KAAKK,OACvF,wBAAQH,QAjBV,WACEH,EAAMuB,oBAAoBvB,EAAMC,OAgBII,KAAK,SAASX,UAAWsB,EAA2B,aAAW,+CACnG,sBAAKtB,UAAU,oBAAf,UACE,oBAAIA,UAAU,aAAd,SAA4BM,EAAMC,KAAKK,OACvC,sBAAKZ,UAAU,uBAAf,UACE,wBAAQW,KAAK,SAASX,UAAW2B,EAAyBlB,QAjBlE,WACEH,EAAMwB,OAAOxB,EAAMC,OAgBuE,aAAW,qDAC/F,mBAAGP,UAAU,qBAAb,SAAmCM,EAAMC,KAAKiB,MAAMO,mBCkB/CC,MArDf,SAAc1B,GAEZ,IAAMW,EAAcH,IAAMI,WAAWL,GAcrC,OACE,uBAAMb,UAAU,UAAhB,UAEE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,4BAAf,UACE,sBAAKA,UAAU,4BAA4BS,QAjB9B,WACnBH,EAAM2B,gBAgBA,UACE,qBAAK/B,IAAKe,EAAYiB,OAAQ9B,IAAI,uCAASJ,UAAU,oBACrD,wBAAQW,KAAK,SAAS,aAAW,wFAAkBwB,MAAM,wFAAkBnC,UAAU,8BAEvF,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BiB,EAAYL,OAC3C,wBAAQH,QApBE,WACpBH,EAAM8B,iBAmBoCzB,KAAK,SAAS,aAAW,4HAAwBwB,MAAM,4HAAwBnC,UAAU,4BAE3H,mBAAGA,UAAU,sBAAb,SAAoCiB,EAAYoB,cAGpD,wBAAQ1B,KAAK,SAASX,UAAU,sBAAsBS,QArBzC,WACjBH,EAAMgC,cAoByE,aAAW,gEAAcH,MAAM,qEAG5G,yBAASnC,UAAU,QAAnB,SACGM,EAAMiC,MAAMC,KAAI,SAAAjC,GAAI,OACnB,cAAC,EAAD,CAEEA,KAAMA,EACNqB,YAAatB,EAAMsB,YACnBC,oBAAqBvB,EAAMuB,oBAC3BC,OAAQxB,EAAMwB,QAJTvB,EAAKc,UAtBlB,Q,cCkEWoB,EATH,I,WA5EV,cAA+B,IAAjBC,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,QAAW,oBAC5BC,KAAKC,KAAOH,EACZE,KAAKE,SAAWH,E,mDAGlB,WACE,OAAOI,MAAM,GAAD,OAAIH,KAAKC,KAAT,aAA0B,CACpCF,QAASC,KAAKE,WACbE,KAAKJ,KAAKK,gB,qBAGf,WACE,OAAOF,MAAM,GAAD,OAAIH,KAAKC,KAAT,UAAuB,CACjCF,QAASC,KAAKE,WACbE,KAAKJ,KAAKK,gB,4BAGf,YAAiC,IAAhBrC,EAAe,EAAfA,KAAMyB,EAAS,EAATA,MAGrB,OAFAa,QAAQC,IAAIvC,GACZsC,QAAQC,IAAId,GACLU,MAAM,GAAD,OAAIH,KAAKC,KAAT,aAA0B,CACpCO,OAAQ,QACRT,QAASC,KAAKE,SACdO,KAAMC,KAAKC,UAAU,CACnB3C,KAAMA,EACNyB,MAAOA,MAERW,KAAKJ,KAAKK,gB,wBAGf,YAA4B,IAAfrC,EAAc,EAAdA,KAAMJ,EAAQ,EAARA,KACjB,OAAOuC,MAAM,GAAD,OAAIH,KAAKC,KAAT,UAAuB,CACjCO,OAAQ,OACRT,QAASC,KAAKE,SACdO,KAAMC,KAAKC,UAAU,CACnB3C,KAAMA,EACNJ,KAAMA,MAEPwC,KAAKJ,KAAKK,gB,wBAGf,SAAWO,GACT,OAAOT,MAAM,GAAD,OAAIH,KAAKC,KAAT,kBAAuBW,GAAU,CAC3CJ,OAAQ,SACRT,QAASC,KAAKE,WACbE,KAAKJ,KAAKK,gB,4BAGf,SAAeP,GACb,OAAOK,MAAM,GAAD,OAAIH,KAAKC,KAAT,oBAAiC,CAC3CO,OAAQ,QACRT,QAASC,KAAKE,SACdO,KAAMC,KAAKC,UAAU,CACnBrB,OAAQQ,MAETM,KAAKJ,KAAKK,gB,kCAIf,SAAqBO,EAAQjC,GAC3B,OAAOwB,MAAM,GAAD,OAAIH,KAAKC,KAAT,wBAA6BW,GAAU,CACjDJ,OAAQ7B,EAAU,MAAQ,SAC1BoB,QAASC,KAAKE,WACbE,KAAKJ,KAAKK,gB,0BAGf,SAAaQ,GACX,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAR,+CAAyBJ,EAAIK,a,KAQ9B,CAAQ,CAClBpB,IAAK,8CACLC,QAAS,CACPoB,cAAe,uCACf,eAAgB,sBC/DLC,MAjBf,SAAuB1D,GACnB,OACI,qBAAKN,UAAS,gBAAWM,EAAM2D,OAAS,gBAAkB,IAA1D,SACI,sBAAKjE,UAAU,mBAAf,UACI,wBAAQW,KAAK,SAASX,UAAU,eAAeS,QAASH,EAAMI,UAC9D,sBAAKV,UAAU,iBAAf,UACI,oBAAIA,UAAU,eAAd,SAA8BM,EAAM6B,QACpC,uBAAMnC,UAAU,cAAcY,KAAMN,EAAMM,KAAMsD,SAAU5D,EAAM4D,SAAhE,UACK5D,EAAM6D,SACP,wBAAQxD,KAAK,SAASX,UAAU,uBAAhC,SAAwDM,EAAM8D,yBC4DvEC,MApEf,SAAuB/D,GAErB,MAAwBQ,IAAMwD,SAAS,IAAvC,mBAAO1D,EAAP,KAAa2D,EAAb,KAOA,EAAwBzD,IAAMwD,SAAS,IAAvC,mBAAO9D,EAAP,KAAagE,EAAb,KAmBA,OAbA1D,IAAM2D,WAAU,WACdF,EAAQ,IACRC,EAAQ,MACP,CAAClE,EAAM2D,SAWR,eAAC,EAAD,CACErD,KAAK,MACLZ,UAAU,uBACVmC,MAAM,gEACNiC,WAAW,yDACXH,OAAQ3D,EAAM2D,OACdvD,QAASJ,EAAMI,QACfwD,SAhBJ,SAAsBQ,GACpBA,EAAMC,iBACNrE,EAAMgC,WAAW,CACf1B,OACAJ,UAKF,UASE,0BAASR,UAAU,uBAAnB,UACE,uBACE4E,MAAOhE,EACPiE,SArCR,SAAwBH,GACtBH,EAAQG,EAAMI,OAAOF,QAqCfjE,KAAK,OACLC,KAAK,OACLZ,UAAU,sCACV+E,YAAY,mDACZC,UAAQ,EACRC,UAAW,EACXC,UAAW,KAEb,sBAAMlF,UAAU,0BAElB,0BAASA,UAAU,uBAAnB,UACE,uBACE4E,MAAOpE,EACPqE,SA5CR,SAAwBH,GACtBF,EAAQE,EAAMI,OAAOF,QA4CfjE,KAAK,MACLC,KAAK,OACLZ,UAAU,sCACV+E,YAAY,qGACZC,UAAQ,IAEV,sBAAMhF,UAAU,8BCSTmF,MAtEf,SAA0B7E,GACxB,IAAMW,EAAcH,IAAMI,WAAWL,GAErC,EAA8BC,IAAMwD,SAAS,IAA7C,mBAAO1D,EAAP,KAAawE,EAAb,KAMA,EAA4CtE,IAAMwD,SAAS,IAA3D,mBAAOe,EAAP,KAAoBC,EAApB,KAmBA,OAbAxE,IAAM2D,WAAU,WACdW,EAAcnE,EAAYL,MAC1B0E,EAAqBrE,EAAYoB,SAChC,CAACpB,EAAaX,EAAM2D,SAWrB,eAAC,EAAD,CACErD,KAAK,UACLZ,UAAU,wBACVmC,MAAM,4HACNiC,WAAW,yDACX1D,QAASJ,EAAMI,QACfuD,OAAQ3D,EAAM2D,OACdC,SAhBJ,SAAsBQ,GACpBA,EAAMC,iBACNrE,EAAMiF,aAAa,CACjB3E,OACAyB,MAAOgD,KAKT,UASE,0BAASrF,UAAU,uBAAnB,UACE,uBACEW,KAAK,OACLC,KAAK,OACLmE,YAAY,qBACZ/E,UAAU,sCACVgF,UAAQ,EACRC,UAAW,EACXC,UAAW,GACXN,MAAOhE,GAAQ,GACfiE,SA3CiB,SAACH,GACxBU,EAAcV,EAAMI,OAAOF,UA4CvB,sBAAM5E,UAAU,0BAElB,0BAASA,UAAU,uBAAnB,UACE,uBACEW,KAAK,OACLC,KAAK,QACLmE,YAAY,yDACZ/E,UAAU,qCACVgF,UAAQ,EACRC,UAAW,EACXC,UAAW,IACXN,MAAOS,GAAe,GACtBR,SAnDwB,SAACH,GAC/BY,EAAqBZ,EAAMI,OAAOF,UAoD9B,sBAAM5E,UAAU,8BC/BTwF,MAlCf,SAAyBlF,GACvB,IAAMmF,EAAY3E,IAAM4E,SAQxB,OACE,cAAC,EAAD,CACE9E,KAAK,SACLuB,MAAM,wFACNiC,WAAW,yDACXpE,UAAU,0BACVU,QAASJ,EAAMI,QACfuD,OAAQ3D,EAAM2D,OACdC,SAdJ,SAAsBQ,GACpBA,EAAMC,iBACNrE,EAAMqF,eAAe,CACnBC,WAAYH,EAAUI,QAAQjB,SAIhC,SASE,0BAAS5E,UAAU,uBAAnB,UACE,uBACE8F,IAAKL,EACL9E,KAAK,MACLC,KAAK,OACLZ,UAAU,sCACV+E,YAAY,qGACZC,UAAQ,IAEV,sBAAMhF,UAAU,6BChBT+F,MAZf,SAAqBzF,GACjB,OACI,cAAC,EAAD,CACII,QAASJ,EAAMI,QACfuD,OAAQ3D,EAAM2D,OACdrD,KAAK,SACLuB,MAAM,2DACNiC,WAAW,eACXF,SAAU5D,EAAM4D,YCiLb8B,MA/Kf,WAEE,MAAsClF,IAAMwD,SAAS,IAArD,mBAAOrD,EAAP,KAAoBgF,EAApB,KACA,EAA0BnF,IAAMwD,SAAS,IAAzC,mBAAO/B,EAAP,KAAc2D,EAAd,KAEApF,IAAM2D,WAAU,WACdb,QAAQuC,IAAI,CAAC1D,EAAI2D,kBAAmB3D,EAAI4D,YACrCrD,MAAK,YAAmB,IAAD,mBAAhBsD,EAAgB,KAAVC,EAAU,KACtBN,EAAeK,GACfJ,EAASK,MAEVC,OAAM,SAACC,GACNvD,QAAQC,IAAIsD,QAEf,IAEH,MAA4D3F,IAAMwD,UAAS,GAA3E,mBAAOoC,EAAP,KAA+BC,EAA/B,KACA,EAAsD7F,IAAMwD,UAAS,GAArE,mBAAOsC,EAAP,KAA4BC,EAA5B,KACA,EAA0D/F,IAAMwD,UAAS,GAAzE,mBAAOwC,EAAP,KAA8BC,EAA9B,KACA,EAA8CjG,IAAMwD,UAAS,GAA7D,mBAAO0C,EAAP,KAAyBC,EAAzB,KACA,EAAwCnG,IAAMwD,SAAS,CAAE9D,KAAM,GAAII,KAAM,KAAzE,mBAAOsG,EAAP,KAAqBC,EAArB,KAkCA,EACErG,IAAMwD,SAAS,IADjB,mBAAO8C,EAAP,KAAsBC,EAAtB,KAEA,EACEvG,IAAMwD,UAAS,GADjB,mBAAOgD,EAAP,KAA0BC,EAA1B,KA4DA,SAASC,IACPb,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAAkB,GAClBM,GAAqB,GACrBJ,EAAgB,CAAEvG,KAAM,GAAIJ,KAAM,KAGpC,OACE,mCACE,eAACK,EAAmB4G,SAApB,CAA6B7C,MAAO3D,EAApC,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEmB,cAvGR,WACEuE,GAA0B,IAuGpBrE,WArGR,WACEuE,GAAuB,IAqGjB5E,aA5GR,WACE8E,GAAyB,IA4GnBnF,YApFY,SAACrB,GACnB4G,EAAgB5G,GAChB0G,GAAkB,IAmFZpF,oBA3ER,SAA2BtB,GACzB8G,EAAiB9G,GACjBgH,GAAqB,IA0EfhF,MAAOA,EACPT,OAtGR,SAAwBvB,GAEtB,IAAMgB,EAAUhB,EAAKiB,MAAMC,MAAK,SAACiG,GAAD,OAAOA,EAAErG,MAAQJ,EAAYI,OAG7DoB,EAAIkF,qBAAqBpH,EAAKc,KAAME,GAASyB,MAAK,SAAC4E,GACjD1B,GAAS,SAAC2B,GAAD,OAAWA,EAAMrF,KAAI,SAACsF,GAAD,OAAQA,EAAEzG,MAAQd,EAAKc,IAAMuG,EAAUE,WAEtEtB,OAAM,SAACC,GACNvD,QAAQC,IAAIsD,SA+FV,cAAC,EAAD,IAEA,cAAC,EAAD,CACExC,OAAQyC,EACRhG,QAAS8G,EACTjC,aA9DiB,SAACgB,GACxB9D,EACGsF,eAAexB,GACfvD,MAAK,SAACS,GACLwC,EAAexC,GACf+D,OAEDhB,OAAM,SAACC,GACNvD,QAAQ8E,MAAMvB,SAyDd,cAAC,EAAD,CACExC,OAAQ6C,EACRpG,QAAS8G,EACT7B,eAxDmB,SAACY,GAC1B9D,EACGwF,eAAe1B,EAAKX,YACpB5C,MAAK,SAACS,GACLwC,EAAexC,GACf+D,OAEDhB,OAAM,SAACC,GACNvD,QAAQ8E,MAAMvB,SAmDd,cAAC,EAAD,CACExC,OAAQ2C,EACRlG,QAAS8G,EACTlF,WAlDqB,SAACsF,GAC5BnF,EAAIyF,WAAWN,GACZ5E,MAAK,SAACS,GACLyC,EAAS,CAACzC,GAAF,mBAAUlB,KAClBiF,OAEDhB,OAAM,SAAAC,GACLvD,QAAQ8E,MAAMvB,SA8Cd,cAAC,EAAD,CACExC,OAAQqD,EACR5G,QAAS8G,EACTtD,SAjGR,SAA0BiE,GAExBA,EAAQxD,iBAERlC,EACG2F,WAAWhB,EAAc/F,KACzB2B,MAAK,WAEJkD,EAAS3D,EAAM8F,QAAO,SAACP,GAAD,OAAOA,EAAEzG,MAAQ+F,EAAc/F,QACrDmG,OAGDhB,OAAM,SAACC,GACNvD,QAAQ8E,MAAMvB,SAuFd,cAAC,EAAD,CACE/F,QAAS8G,EACTvD,OAAQ+C,EACRzG,KAAM2G,UCxKDoB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBxF,MAAK,YAAkD,IAA/CyF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAO1BZ,M","file":"static/js/main.f007f4dd.chunk.js","sourcesContent":["function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyringht\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from '../images/logo.svg';\n\nfunction Header() {\n    return (\n        <>\n            <header className=\"header\">\n                <img src={logo} className=\"header__logo\" alt=\"Логотип места России\" />\n            </header>\n        </>\n    );\n}\n\nexport default Header;","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup-place ${props.card.link && 'popup__opened'}`}>\n      <div className=\"popup-place__container\">\n        <button onClick={props.onClose} type=\"button\" className=\"popup__close popup-place__close\"></button>\n        <img className=\"popup-place__img\" src={props.card.link} alt={props.card.name} />\n        <h2 className=\"popup-place__title\">{props.card.name}</h2>\n      </div>\n    </div>\n  )\n}\n\n\nexport default ImagePopup","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `card__delete-button ${isOwn ? \"card__delete-button_visible\" : \"card__delete-button_hidden\"\n    }`;\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some(item => item._id === currentUser._id);\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `card__like ${isLiked ? \"card__like_active\" : \"\"\n    }`;\n\n    function handleDeleteClick() {\n      props.onHandleDeleteClick(props.card);\n    }\n\n  function handleLikeClick() {\n    props.onLike(props.card);\n  }\n \n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n\n  return (\n    <article className=\"card\">\n      <img className=\"card__img\" onClick={handleClick} src={props.card.link} alt={props.card.name} />\n      <button onClick={handleDeleteClick} type=\"button\" className={cardDeleteButtonClassName} aria-label=\"Удалить\" ></button>\n      <div className=\"card__description\">\n        <h2 className=\"card__text\">{props.card.name}</h2>\n        <div className=\"card__like-containet\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} aria-label=\"Нравится\"></button>\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const onEditAvatar = () => {\n    props.onEditAvatar();\n  }\n\n  const onEditProfile = () => {\n    props.onEditProfile();\n  }\n\n  const onAddPlace = () => {\n    props.onAddPlace();\n  }\n\n  return (\n    <main className=\"content\">\n      {/* <!-- профайл --> */}\n      <section className=\"profile\">\n        <div className=\"profile__avatar-plus-info\">\n          <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\n            <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\n            <button type=\"button\" aria-label=\"Обновить аватар\" title=\"Обновить аватар\" className=\"profile__avatar-button\"></button>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__button-plus-name\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button onClick={onEditProfile} type=\"button\" aria-label=\"Редактировать профиль\" title=\"Редактировать профиль\" className=\"profile__edit-button\"></button>\n            </div>\n            <p className=\"profile__profession\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace} aria-label=\"Новое место\" title=\"Новое место\"></button>\n      </section>\n\n      <section className=\"cards\">\n        {props.cards.map(card => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={props.onCardClick}\n            onHandleDeleteClick={props.onHandleDeleteClick}\n            onLike={props.onLike}\n          />\n        ))}\n      </section>;\n\n    </main>\n  );\n\n}\n\nexport default Main;","class Api {\n\n  constructor({ url, headers }) {\n    this._url = url\n    this._headers = headers\n  }\n  //Профиль\n  getPersonalInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(this._checkAnswer)\n  }\n  //Карточки\n  getCard() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(this._checkAnswer)\n  }\n\n  changeUserInfo({ name, about }) {\n    console.log(name)\n    console.log(about)\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(this._checkAnswer)\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(this._checkAnswer)\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkAnswer)\n  }\n\n  editAvatarUser(url) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: url\n      })\n    }).then(this._checkAnswer)\n  }\n\n  //Лайки\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: isLiked ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkAnswer);\n  }\n\n  _checkAnswer(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка ${res.status}`)\n    }\n    return res.json()\n  }\n\n\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-27',\n  headers: {\n    authorization: 'de527c55-955e-4a3f-a6e9-87feee430703',\n    'Content-type': 'application/json'\n  }\n})\n\n\nexport default api","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return (\n        <div className={`popup ${props.isOpen ? 'popup__opened' : ''}`}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\n                <div className=\"popup__content\">\n                    <h2 className=\"popup__title\">{props.title}</h2>\n                    <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit}>\n                        {props.children}\n                        <button type=\"submit\" className=\"popup__submit-button\">{props.buttonText}</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithForm","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  //Поле названия\r\n  const [name, setName] = React.useState(\"\");\r\n\r\n  function handleCardName(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  //Поле ссылки\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleCardLink(event) {\r\n    setLink(event.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      className=\"popup popup_type_add\"\r\n      title=\"Новое место\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <section className=\"popup__input-section\">\r\n        <input\r\n          value={name}\r\n          onChange={handleCardName}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          placeholder=\"Название\"\r\n          required\r\n          minLength={2}\r\n          maxLength={30}\r\n        />\r\n        <span className=\"popup__input-error\"></span>\r\n      </section>\r\n      <section className=\"popup__input-section\">\r\n        <input\r\n          value={link}\r\n          onChange={handleCardLink}\r\n          type=\"url\"\r\n          name=\"link\"\r\n          className=\"popup__input popup__input_type_link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\"></span>\r\n      </section>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  //поле имя\r\n  const [name, setChangeName] = React.useState(\"\");\r\n\r\n  const handleChangeName = (event) => {\r\n    setChangeName(event.target.value);\r\n  };\r\n  //поле деятельности\r\n  const [description, setChangeDescription] = React.useState(\"\");\r\n\r\n  const handleChangeDescription = (event) => {\r\n    setChangeDescription(event.target.value);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setChangeName(currentUser.name);\r\n    setChangeDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      className=\"popup popup_type_edit\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <section className=\"popup__input-section\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          required\r\n          minLength={2}\r\n          maxLength={40}\r\n          value={name || \"\"}\r\n          onChange={handleChangeName}\r\n        />\r\n        <span className=\"popup__input-error\"></span>\r\n      </section>\r\n      <section className=\"popup__input-section\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"about\"\r\n          placeholder=\"Профессия\"\r\n          className=\"popup__input popup__input_type_job\"\r\n          required\r\n          minLength={2}\r\n          maxLength={200}\r\n          value={description || \"\"}\r\n          onChange={handleChangeDescription}\r\n        />\r\n        <span className=\"popup__input-error\"></span>\r\n      </section>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatarLink: avatarRef.current.value,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      className=\"popup popup_type_avatar\"\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <section className=\"popup__input-section\">\r\n        <input\r\n          ref={avatarRef}\r\n          type=\"url\"\r\n          name=\"link\"\r\n          className=\"popup__input popup__input_type_link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\"></span>\r\n      </section>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletePopup(props) {\r\n    return (\r\n        <PopupWithForm\r\n            onClose={props.onClose}\r\n            isOpen={props.isOpen}\r\n            name=\"delete\"\r\n            title=\"Вы уверены?\"\r\n            buttonText=\"Да\"\r\n            onSubmit={props.onSubmit} />\r\n    )\r\n}\r\n\r\nexport default DeletePopup;","import React from 'react';\nimport Footer from './Footer';\nimport Header from './Header';\nimport ImagePopup from './ImagePopup';\nimport Main from './Main';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/Api\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport DeletePopup from \"./DeletePopup\";\n\n\nfunction App() {\n\n  const [currentUser, setcurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getPersonalInfo(), api.getCard()])\n      .then(([user, data]) => {\n        setcurrentUser(user);\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ link: '', name: '' });\n  // const [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false);\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)))\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n\n\n  const handleClick = (card) => {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  const [cardForDelete, setCardForDelete] =\n    React.useState({});\n  const [isDeletePopupOpen, setIsDeletePopupOpen] =\n    React.useState(false);\n\n  function handleDeleteClick(card) {\n    setCardForDelete(card);\n    setIsDeletePopupOpen(true);\n  }\n\n  function handleCardDelete(element) {\n    // Отменяем стандартное поведение\n    element.preventDefault();\n    // Отправляем запрос в API\n    api\n      .removeCard(cardForDelete._id)\n      .then(() => {\n        // Методом фильтр мы создаем новый массив на основе нашего только с некоторыми условиями\n        setCards(cards.filter((c) => c._id !== cardForDelete._id));\n        closeAllPopups();\n      })\n      //выведем ошибку в консоль\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  const handleUpdateUser = (data) => {\n    api\n      .changeUserInfo(data)\n      .then((res) => {\n        setcurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    api\n      .editAvatarUser(data.avatarLink)\n      .then((res) => {\n        setcurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n\n  const handleAddPlaceSubmit = (newCard) => {\n    api.addNewCard(newCard)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups()\n      })\n      .catch(err => {\n        console.error(err)\n      })\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setImagePopupOpen(false);\n    setIsDeletePopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleClick}\n          onHandleDeleteClick={handleDeleteClick}\n          cards={cards}\n          onLike={handleCardLike}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <DeletePopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onSubmit={handleCardDelete}\n        />\n\n        <ImagePopup\n          onClose={closeAllPopups}\n          isOpen={isImagePopupOpen}\n          card={selectedCard}\n        />\n\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('page')\n  \n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}